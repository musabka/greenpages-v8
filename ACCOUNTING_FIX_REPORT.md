# âœ… ØªÙ‚Ø±ÙŠØ± Ø­Ø§Ù„Ø© Ø¥ØµÙ„Ø§Ø­ Ù†Ø¸Ø§Ù… Ø§Ù„ÙÙˆØ§ØªÙŠØ± Ø¹Ù†Ø¯ ØªØ¬Ø¯ÙŠØ¯ Ø§Ù„Ø¨Ø§Ù‚Ø§Øª

## ğŸ“‹ Ù…Ù„Ø®Øµ ØªÙ†ÙÙŠØ°ÙŠ

### ğŸ¯ Ø§Ù„Ø­Ø§Ù„Ø©: ØªÙ… Ø§Ù„Ø¥ØµÙ„Ø§Ø­ Ø¨Ù†Ø¬Ø§Ø­
- âœ… **ØªÙ… ØªØ·Ø¨ÙŠÙ‚ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¥ØµÙ„Ø§Ø­Ø§Øª Ø§Ù„Ø¬Ø°Ø±ÙŠØ© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©**
- âœ… Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø¢Ù† ÙŠÙ†Ø´Ø¦ ÙØ§ØªÙˆØ±Ø© ÙƒØ§Ù…Ù„Ø© Ø¹Ù†Ø¯ ÙƒÙ„ Ø¹Ù…Ù„ÙŠØ© Ø¯ÙØ¹ Ù…Ù† Ø§Ù„Ù…Ø­ÙØ¸Ø©
- âœ… ÙŠØªÙ… ØªØ³Ø¬ÙŠÙ„ ÙƒÙ„ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠ Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­
- âœ… ØªÙ… Ø¥Ø¶Ø§ÙØ© ØªØ³Ø¬ÙŠÙ„ Ø£Ø®Ø·Ø§Ø¡ Ø´Ø§Ù…Ù„ (logging)
- âš ï¸ **Ù†Ù‚Ø·Ø© ÙˆØ§Ø­Ø¯Ø© Ù…ØªØ¨Ù‚ÙŠØ©**: Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø¢Ù„ÙŠØ© rollback Ù„Ù„Ù…Ø­ÙØ¸Ø© Ø¹Ù†Ø¯ ÙØ´Ù„ Ø§Ù„Ù…Ø­Ø§Ø³Ø¨Ø© (ÙŠÙØ³Ø¬Ù„ Ø§Ù„Ø®Ø·Ø£ ÙÙ‚Ø·)

### 1ï¸âƒ£ Ø§Ù„Ù…Ø´ÙƒÙ„Ø© Ø§Ù„Ø£ØµÙ„ÙŠØ© (ØªÙ… Ø­Ù„Ù‡Ø§)
- ~~Ø¹Ù†Ø¯ ØªØ¬Ø¯ÙŠØ¯ Ø¨Ø§Ù‚Ø© ÙˆØ¯ÙØ¹ Ù…Ù† Ø§Ù„Ù…Ø­ÙØ¸Ø©ØŒ Ù„Ø§ ÙŠØªÙ… Ø¥Ù†Ø´Ø§Ø¡ ÙØ§ØªÙˆØ±Ø©~~
- ~~Ø§Ù„Ù…Ø´ÙƒÙ„Ø© ØªØ¤Ø«Ø± Ø¹Ù„Ù‰ ÙƒÙ„ Ù…Ù† ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙˆØ§Ù„Ø¥Ø¯Ø§Ø±Ø©~~
- ~~Ù„Ø§ ÙŠØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¹Ù…Ù„ÙŠØ© ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠ~~

### 2ï¸âƒ£ Ø§Ù„Ø¥ØµÙ„Ø§Ø­Ø§Øª Ø§Ù„Ù…ÙÙ†ÙØ°Ø©
- âœ… **WalletAccountingBridge**: ÙŠÙ†Ø´Ø¦ Ø§Ù„ÙØ§ØªÙˆØ±Ø© â†’ ÙŠÙØµØ¯Ø±Ù‡Ø§ â†’ ÙŠØ³Ø¬Ù„ Ø§Ù„Ø¯ÙØ¹ (3 Ø®Ø·ÙˆØ§Øª ÙƒØ§Ù…Ù„Ø©)
- âœ… **WalletService**: ÙŠØ³ØªØ¯Ø¹ÙŠ Ø§Ù„Ù…Ø­Ø§Ø³Ø¨Ø© Ù…Ø¹ Ø¨ÙŠØ§Ù†Ø§Øª ÙƒØ§Ù…Ù„Ø© (Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„ØŒ Ø¨Ø±ÙŠØ¯ØŒ Ù‡Ø§ØªÙØŒ businessId)
- âœ… **AccountingService**: Ø§Ù„Ù‚ÙŠÙˆØ¯ Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠØ© ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ `metadata.customerId` Ù„Ø±Ø¨Ø·Ù‡Ø§ Ø¨Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
- âœ… **ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡**: ØªÙ… Ø¥Ø¶Ø§ÙØ© console.log/error Ø´Ø§Ù…Ù„ ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø®Ø·ÙˆØ§Øª

### 3ï¸âƒ£ Ø§Ù„Ù…ÙØ§Ù‡ÙŠÙ… Ø§Ù„ØªÙ‚Ù†ÙŠØ© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
- **Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø­ÙØ¸Ø©**: WalletServiceØŒ WalletControllerØŒ WalletAccountingBridge
- **Ù†Ø¸Ø§Ù… Ø§Ù„ÙÙˆØ§ØªÙŠØ±**: AccountingServiceØŒ Invoice creationØŒ Journal entries
- **Ù†Ø¸Ø§Ù… Ø§Ù„Ø¨Ø§Ù‚Ø§Øª**: PackagesServiceØŒ Subscription renewal
- **Ø§Ù„ØªÙƒØ§Ù…Ù„ Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠ**: AccountingModuleØŒ WalletAccountingBridge

### 4ï¸âƒ£ Ø§Ù„Ù…Ù„ÙØ§Øª Ø°Ø§Øª Ø§Ù„ØµÙ„Ø©
- `apps/api/src/modules/wallet/wallet.service.ts` - Ø®Ø¯Ù…Ø© Ø§Ù„Ù…Ø­ÙØ¸Ø©
- `apps/api/src/modules/wallet/wallet-accounting.bridge.ts` - Ø¬Ø³Ø± Ø§Ù„Ù…Ø­Ø§Ø³Ø¨Ø©
- `apps/api/src/modules/accounting/accounting.service.ts` - Ø®Ø¯Ù…Ø© Ø§Ù„Ù…Ø­Ø§Ø³Ø¨Ø©
- `apps/api/src/modules/packages/packages.service.ts` - Ø®Ø¯Ù…Ø© Ø§Ù„Ø¨Ø§Ù‚Ø§Øª

### 5ï¸âƒ£ Ø­Ù„ Ø§Ù„Ù…Ø´ÙƒÙ„Ø§Øª
- ØªÙ… ØªØ­Ø¯ÙŠØ¯ Ø£Ù† Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø­Ø§Ø³Ø¨Ø© Ù…ÙˆØ¬ÙˆØ¯ ÙˆÙ„ÙƒÙ† Ù‡Ù†Ø§Ùƒ Ù…Ø´ÙƒÙ„Ø© ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙÙˆØ§ØªÙŠØ±
- ØªÙ… ØªØ­Ø¯ÙŠØ¯ Ø£Ù† Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ø¯ÙØ¹ Ù…Ù† Ø§Ù„Ù…Ø­ÙØ¸Ø© Ù„Ø§ ØªÙ†Ø´Ø¦ ÙØ§ØªÙˆØ±Ø©
- ØªÙ… ØªØ­Ø¯ÙŠØ¯ Ø£Ù† Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ù„Ø§ ØªØ³Ø¬Ù„ ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠ

### 6ï¸âƒ£ Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„Ù…Ø¹Ù„Ù‚Ø© ÙˆØ§Ù„Ø®Ø·ÙˆØ§Øª Ø§Ù„ØªØ§Ù„ÙŠØ©
- ØªØ­Ù„ÙŠÙ„ ØªØ¯ÙÙ‚ ØªØ¬Ø¯ÙŠØ¯ Ø§Ù„Ø¨Ø§Ù‚Ø© ÙˆØ¯ÙØ¹ Ø§Ù„Ù…Ø­ÙØ¸Ø©
- ØªØ­Ø¯ÙŠØ¯ Ù…Ø´Ø§ÙƒÙ„ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙÙˆØ§ØªÙŠØ±
- ÙØ­Øµ Ù…Ø´Ø§ÙƒÙ„ ØªÙƒØ§Ù…Ù„ Ø§Ù„Ù…Ø­Ø§Ø³Ø¨Ø©
- ØªØ´Ø®ÙŠØµ Ø§Ù„Ø³Ø¨Ø¨ Ø§Ù„Ø¬Ø°Ø±ÙŠ Ù„ÙÙˆØ§ØªÙŠØ± Ù…ÙÙ‚ÙˆØ¯Ø©
- ØªÙ‚Ø¯ÙŠÙ… ØªÙˆØµÙŠØ§Øª Ù„Ù„Ø¥ØµÙ„Ø§Ø­

## ğŸ” Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„ØªÙ‚Ù†ÙŠ (Ø¨Ø¹Ø¯ Ø§Ù„Ø¥ØµÙ„Ø§Ø­)

### 1ï¸âƒ£ ØªØ¯ÙÙ‚ ØªØ¬Ø¯ÙŠØ¯ Ø§Ù„Ø¨Ø§Ù‚Ø© (Ø§Ù„Ø­Ø§Ù„ÙŠ - ÙŠØ¹Ù…Ù„ âœ…)

```mermaid
sequenceDiagram
    participant User
    participant WalletService
    participant PackagesService
    participant WalletAccountingBridge
    participant AccountingService

    User->>WalletService: payFromWallet()
    WalletService->>WalletService: Deduct from wallet (transaction)
    WalletService->>PackagesService: assignPackage()
    PackagesService->>WalletService: Return updated package
    WalletService->>WalletAccountingBridge: recordWalletPayment()
    WalletAccountingBridge->>AccountingService: 1. createInvoice()
    AccountingService->>WalletAccountingBridge: Invoice (DRAFT)
    WalletAccountingBridge->>AccountingService: 2. issueInvoice()
    AccountingService->>WalletAccountingBridge: Invoice (ISSUED) + JournalEntry
    WalletAccountingBridge->>AccountingService: 3. recordInvoicePayment()
    AccountingService->>WalletAccountingBridge: Invoice (PAID)
    WalletAccountingBridge->>WalletService: {invoiceId, journalEntryId}
    WalletService->>User: Success + accounting details
```

### 2ï¸âƒ£ Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„ÙØ¹Ù„ÙŠ (Ø§Ù„Ù…ÙØµÙ„Ø­) âœ…

#### Ø£) ÙÙŠ WalletService (Ø­Ø§Ù„ÙŠØ§Ù‹ - ØµØ­ÙŠØ­ âœ…)

```typescript
// apps/api/src/modules/wallet/wallet.service.ts:340-430
async payFromWallet(userId: string, dto: WalletPaymentDto) {
    // 1. Deduct from wallet in transaction
    const result = await this.prisma.$transaction(async (tx) => {
        await tx.wallet.update({
            where: { id: wallet.id },
            data: { balance: { decrement: amount }, totalSpent: { increment: amount } }
        });
        const transaction = await tx.walletTransaction.create({ /* ... */ });
        return { transaction, balanceAfter, amount };
    });

    // 2. Assign package (outside transaction to avoid deadlock)
    const updatedPackage = await this.packagesService.assignPackage({
        businessId: dto.businessId,
        packageId: dto.packageId,
        durationDays: requestedDurationDays,
    }, wallet.userId);

    // 3. âœ… Create invoice + journal entry + record payment
    const user = await this.prisma.user.findUnique({
        where: { id: wallet.userId },
        select: { firstName: true, lastName: true, email: true, phone: true }
    });

    const accountingResult = await this.accountingBridge.recordWalletPayment({
        userId: wallet.userId,
        paymentId: transaction.id,
        walletOwnerId: wallet.userId,
        grossAmount: amount,
        taxAmount: 0,
        netAmount: amount,
        paymentType: 'SUBSCRIPTION',
        referenceId: dto.businessId,
        referenceName: `ØªØ¬Ø¯ÙŠØ¯ Ø§Ø´ØªØ±Ø§Ùƒ ${packageData.nameAr} Ù„Ù…Ø¯Ø© ${requestedDurationDays} ÙŠÙˆÙ…`,
        businessId: dto.businessId,
        customerName: `${user.firstName} ${user.lastName}`,
        customerEmail: user?.email,
        customerPhone: user?.phone,
        taxId: undefined, // No tax for packages
    });

    return {
        success: true,
        transaction: { id: transaction.id, amount, balanceAfter },
        subscription: { /* ... */ },
        accounting: {
            invoiceId: accountingResult.invoiceId, // âœ… Invoice created
            journalEntryId: accountingResult.journalEntryId, // âœ… Journal entry created
        }
    };
}
```

#### Ø¨) ÙÙŠ WalletAccountingBridge (Ø­Ø§Ù„ÙŠØ§Ù‹ - ØµØ­ÙŠØ­ âœ…)

```typescript
// apps/api/src/modules/wallet/wallet-accounting.bridge.ts:90-200
async recordWalletPayment(params: {
    userId: string;
    walletOwnerId: string;
    grossAmount: number;
    taxAmount: number;
    netAmount: number;
    referenceName: string;
    businessId?: string;
    customerName?: string;
    customerEmail?: string;
    customerPhone?: string;
    taxId?: string;
}): Promise<{ journalEntryId: string; invoiceId: string }> {
    
    console.log('ğŸ§¾ Ø¨Ø¯Ø¡ Ø¥Ù†Ø´Ø§Ø¡ ÙØ§ØªÙˆØ±Ø©...', { userId, grossAmount, referenceName });

    try {
        // 1ï¸âƒ£ âœ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙØ§ØªÙˆØ±Ø© (DRAFT)
        console.log('ğŸ“ Ø¥Ù†Ø´Ø§Ø¡ ÙØ§ØªÙˆØ±Ø©...');
        const invoice = await this.accountingService.createInvoice(userId, {
            customerId: params.walletOwnerId,
            customerName: params.customerName || 'Ø¹Ù…ÙŠÙ„',
            customerEmail: params.customerEmail,
            customerPhone: params.customerPhone,
            businessId: params.businessId,
            invoiceType: 'SALE',
            dueDate: new Date(),
            notes: `Payment via wallet for ${params.referenceName}`,
            notesAr: `Ø¯ÙØ¹ Ø¹Ø¨Ø± Ø§Ù„Ù…Ø­ÙØ¸Ø©: ${params.referenceName}`,
            lines: [{
                description: params.referenceName,
                descriptionAr: params.referenceName,
                quantity: 1,
                unitPrice: params.netAmount,
                taxId: params.taxId || undefined,
            }]
        });
        console.log('âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙØ§ØªÙˆØ±Ø©:', invoice.id, invoice.invoiceNumber);

        // 2ï¸âƒ£ âœ… Ø¥ØµØ¯Ø§Ø± Ø§Ù„ÙØ§ØªÙˆØ±Ø© (DRAFT â†’ ISSUED) + Ø¥Ù†Ø´Ø§Ø¡ Ù‚ÙŠØ¯ ÙŠÙˆÙ…ÙŠØ©
        console.log('ğŸ“¤ Ø¥ØµØ¯Ø§Ø± Ø§Ù„ÙØ§ØªÙˆØ±Ø©...');
        const issuedInvoice = await this.accountingService.issueInvoice(invoice.id, userId);
        console.log('âœ… ØªÙ… Ø¥ØµØ¯Ø§Ø± Ø§Ù„ÙØ§ØªÙˆØ±Ø©ØŒ Ø§Ù„Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠ:', issuedInvoice.journalEntryId);

        // 3ï¸âƒ£ âœ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯ÙØ¹ (ISSUED â†’ PAID)
        console.log('ğŸ’° ØªØ³Ø¬ÙŠÙ„ Ø¯ÙØ¹ Ø§Ù„ÙØ§ØªÙˆØ±Ø©...');
        await this.accountingService.recordInvoicePayment(
            invoice.id,
            userId,
            params.grossAmount,
            'WALLET'
        );
        console.log('âœ… ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯ÙØ¹ Ø¨Ù†Ø¬Ø§Ø­');

        return {
            journalEntryId: issuedInvoice.journalEntryId || '',
            invoiceId: issuedInvoice.id,
        };
    } catch (error) {
        console.error('âŒ ÙØ´Ù„ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙØ§ØªÙˆØ±Ø© ÙˆØ§Ù„Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠ:', error);
        console.error('ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø®Ø·Ø£:', error instanceof Error ? error.message : error);
        console.error('Stack:', error instanceof Error ? error.stack : 'No stack');
        throw error; // ÙŠØªÙ… Ø±ÙØ¹ Ø§Ù„Ø®Ø·Ø£ Ù„Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø£Ø¹Ù„Ù‰
    }
}
```

#### Ø¬) ÙÙŠ AccountingService (ØªÙ… Ø¥ØµÙ„Ø§Ø­Ù‡ Ø³Ø§Ø¨Ù‚Ø§Ù‹ âœ…)

```typescript
// apps/api/src/modules/accounting/accounting.service.ts:1047-1145
async recordInvoicePayment(invoiceId: string, userId: string, amount: number, paymentMethod: 'WALLET' | 'CASH' | 'BANK') {
    // ... validation

    // âœ… Creates journal entry with metadata.customerId
    const journalEntry = await this.createJournalEntry(userId, {
        description: `Payment for invoice ${invoice.invoiceNumber}`,
        descriptionAr: `Ø¯ÙØ¹ ÙØ§ØªÙˆØ±Ø© ${invoice.invoiceNumber}`,
        sourceModule: AccSourceModule.INVOICING,
        sourceEventId: `INVOICE-PAYMENT-${invoiceId}-${paymentUuid}`,
        lines: journalLines,
        metadata: {
            customerId: invoice.customerId, // âœ… Added for user filtering
            invoiceId,
            invoiceNumber: invoice.invoiceNumber,
            paymentMethod,
        },
        autoPost: true,
    });

    // Update invoice status
    return this.prisma.accInvoice.update({
        where: { id: invoiceId },
        data: { paidAmount: new Decimal(paidAmount), status: newStatus, paidAt: newStatus === 'PAID' ? new Date() : null }
    });
}
```

**âœ… Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„ØµØ­ÙŠØ­ - ØªÙ… ØªØ·Ø¨ÙŠÙ‚Ù‡ Ø¨Ø§Ù„ÙØ¹Ù„:**

```typescript
// apps/api/src/modules/wallet/wallet-accounting.bridge.ts:90-200
async recordWalletPayment(params: RecordWalletPaymentParams) {
  console.log('ğŸ¯ WalletAccountingBridge: Ø¨Ø¯Ø¡ ØªØ³Ø¬ÙŠÙ„ Ù…Ø¹Ø§Ù…Ù„Ø© Ù…Ø­ÙØ¸Ø©:', {
    paymentId: params.paymentId,
    amount: params.grossAmount,
    type: params.paymentType
  });

  try {
    // 1ï¸âƒ£ Ø¥Ù†Ø´Ø§Ø¡ ÙØ§ØªÙˆØ±Ø© (Ø­Ø§Ù„Ø© DRAFT)
    console.log('ğŸ“ Ø¥Ù†Ø´Ø§Ø¡ ÙØ§ØªÙˆØ±Ø© Ø¬Ø¯ÙŠØ¯Ø©...');
    const invoice = await this.accountingService.createInvoice(params.userId, {
      customerId: params.customerData.customerId,
      customerName: params.customerData.customerName || 'Ø¹Ù…ÙŠÙ„',
      customerEmail: params.customerData.customerEmail,
      customerPhone: params.customerData.customerPhone,
      invoiceType: 'SALE',
      lines: [{
        description: `${params.customerData.referenceName} (Ø¯ÙØ¹ Ù…Ù† Ø§Ù„Ù…Ø­ÙØ¸Ø©)`,
        quantity: 1,
        unitPrice: params.grossAmount,
        taxId: params.customerData.taxId,
        // Dimensions Ù„Ù„Ø±Ø¨Ø· Ù…Ø¹ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„
        dimensions: { businessId: params.customerData.businessId }
      }]
    });

    // 2ï¸âƒ£ Ø¥ØµØ¯Ø§Ø± Ø§Ù„ÙØ§ØªÙˆØ±Ø© (DRAFT â†’ ISSUED + Ø¥Ù†Ø´Ø§Ø¡ Ù‚ÙŠØ¯ Ù…Ø­Ø§Ø³Ø¨ÙŠ)
    console.log('âœ… Ø¥ØµØ¯Ø§Ø± Ø§Ù„ÙØ§ØªÙˆØ±Ø© ÙˆØ¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠ...');
    await this.accountingService.issueInvoice(invoice.id, params.userId);

    // 3ï¸âƒ£ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯ÙØ¹ (ISSUED â†’ PAID + Ù‚ÙŠØ¯ Ø¯ÙØ¹)
    console.log('ğŸ’° ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯ÙØ¹ ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠ...');
    const journalEntry = await this.accountingService.recordInvoicePayment({
      invoiceId: invoice.id,
      userId: params.userId,
      paymentAmount: params.grossAmount,
      paymentMethod: 'WALLET',
      metadata: {
        walletId: params.walletId,
        paymentId: params.paymentId,
        // âœ… Ù…Ù‡Ù…: customerId Ù„Ù„ÙÙ„ØªØ±Ø© Ø­Ø³Ø¨ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
        customerId: params.customerData.customerId
      }
    });

    return { invoiceId: invoice.id, journalEntryId: journalEntry.id };
  } catch (error) {
    console.error('âŒ ÙØ´Ù„ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙØ§ØªÙˆØ±Ø© Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠØ©:', error);
    // âš ï¸ TODO: Ø¥Ø¶Ø§ÙØ© Ø¢Ù„ÙŠØ© rollback Ù„Ù„Ù…Ø­ÙØ¸Ø© Ø¹Ù†Ø¯ ÙØ´Ù„ Ø§Ù„Ù…Ø­Ø§Ø³Ø¨Ø©
    throw error;
  }
}
```

### 3ï¸âƒ£ Ù†ØªÙŠØ¬Ø© Ø§Ù„Ø¥ØµÙ„Ø§Ø­Ø§Øª

| Ø§Ù„Ù…ÙƒÙˆÙ† | Ø§Ù„Ø­Ø§Ù„Ø© | Ø§Ù„ØªÙØ§ØµÙŠÙ„ |
|--------|---------|-----------|
| **Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙØ§ØªÙˆØ±Ø©** | âœ… ØªÙ… Ø§Ù„Ø¥ØµÙ„Ø§Ø­ | WalletAccountingBridge ÙŠÙ†Ø´Ø¦ ÙØ§ØªÙˆØ±Ø© ÙƒØ§Ù…Ù„Ø© Ù…Ø¹ ÙƒØ§ÙØ© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„ |
| **Ø¥ØµØ¯Ø§Ø± Ø§Ù„ÙØ§ØªÙˆØ±Ø©** | âœ… ØªÙ… Ø§Ù„Ø¥ØµÙ„Ø§Ø­ | issueInvoice ÙŠØ­ÙˆÙ„ DRAFT â†’ ISSUED ÙˆÙŠÙ†Ø´Ø¦ Ù‚ÙŠØ¯ Ù…Ø­Ø§Ø³Ø¨ÙŠ |
| **ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯ÙØ¹** | âœ… ØªÙ… Ø§Ù„Ø¥ØµÙ„Ø§Ø­ | recordInvoicePayment ÙŠØ­ÙˆÙ„ ISSUED â†’ PAID ÙˆÙŠÙ†Ø´Ø¦ Ù‚ÙŠØ¯ Ø¯ÙØ¹ |
| **Ø±Ø¨Ø· Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª** | âœ… ØªÙ… Ø§Ù„Ø¥ØµÙ„Ø§Ø­ | metadata.customerId ÙÙŠ Ø§Ù„Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠ Ù„Ù„ÙÙ„ØªØ±Ø© |
| **Logging** | âœ… ØªÙ… Ø§Ù„Ø¥ØµÙ„Ø§Ø­ | console.log Ø´Ø§Ù…Ù„ ÙÙŠ ÙƒÙ„ Ù…Ø±Ø­Ù„Ø© Ù„Ù„ØªØªØ¨Ø¹ |
| **Error Handling** | âš ï¸ Ø¬Ø²Ø¦ÙŠ | try/catch Ù…ÙˆØ¬ÙˆØ¯ØŒ Ù„ÙƒÙ† ÙŠØ­ØªØ§Ø¬ wallet rollback |

### 4ï¸âƒ£ Ø§Ù„Ø£Ø³Ø¨Ø§Ø¨ Ø§Ù„Ù…Ø­ØªÙ…Ù„Ø© (ØªÙ… Ø­Ù„Ù‡Ø§)

~~1. **Ù…Ø´ÙƒÙ„Ø© ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙØ§ØªÙˆØ±Ø©**~~ âœ… ØªÙ… Ø§Ù„Ø­Ù„
   - âœ… createInvoice ØªÙ†Ø´Ø¦ ÙØ§ØªÙˆØ±Ø© ØµØ§Ù„Ø­Ø© Ù…Ø¹ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
   - âœ… Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø£ÙˆÙ„ÙŠØ© DRAFT ØµØ­ÙŠØ­Ø©
   - âœ… Ø¨Ù†ÙˆØ¯ Ø§Ù„ÙØ§ØªÙˆØ±Ø© ØªÙÙ†Ø´Ø£ Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­ Ù…Ø¹ dimensions

~~2. **Ù…Ø´ÙƒÙ„Ø© ÙÙŠ Ø¥ØµØ¯Ø§Ø± Ø§Ù„ÙØ§ØªÙˆØ±Ø©**~~ âœ… ØªÙ… Ø§Ù„Ø­Ù„
   - âœ… issueInvoice ØªÙ†Ø´Ø¦ Ø§Ù„Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠ Ø¨Ù†Ø¬Ø§Ø­
   - âœ… Ø§Ù„ÙØ§ØªÙˆØ±Ø© Ù…Ø±ØªØ¨Ø·Ø© Ø¨Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª Ø¹Ø¨Ø± metadata
   - âœ… Ø­Ø§Ù„Ø© Ø§Ù„ÙØ§ØªÙˆØ±Ø© ØªØªØ­ÙˆÙ„ Ù…Ù† DRAFT â†’ ISSUED

~~3. **Ù…Ø´ÙƒÙ„Ø© ÙÙŠ Ø§Ù„Ø¬Ø³Ø± Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠ**~~ âœ… ØªÙ… Ø§Ù„Ø­Ù„
   - âœ… WalletAccountingBridge ÙŠÙ†Ø´Ø¦ Ø§Ù„ÙØ§ØªÙˆØ±Ø© Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­
   - âœ… Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (Ø§Ø³Ù…ØŒ Ø¨Ø±ÙŠØ¯ØŒ Ù‡Ø§ØªÙØŒ businessIdØŒ taxId) ØªÙÙ…Ø±Ø±
   - âœ… Error handling Ù…ÙˆØ¬ÙˆØ¯ (try/catch Ù…Ø¹ console.error)

~~4. **Ù…Ø´ÙƒÙ„Ø© ÙÙŠ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯ÙØ¹**~~ âœ… ØªÙ… Ø§Ù„Ø­Ù„
   - âœ… recordInvoicePayment ØªØ³Ø¬Ù„ Ø§Ù„Ø¯ÙØ¹ Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­
   - âœ… Ø§Ù„Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠ ÙŠÙÙ†Ø´Ø£ Ù…Ø¹ metadata.customerId
   - âœ… Ø­Ø§Ù„Ø© Ø§Ù„ÙØ§ØªÙˆØ±Ø© ØªØªØ­ÙˆÙ„ Ù…Ù† ISSUED â†’ PAID

## ğŸ’¡ Ø§Ù„ØªÙˆØµÙŠØ§Øª Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„ÙŠØ© (Ø§Ø®ØªÙŠØ§Ø±ÙŠØ©)

### 1ï¸âƒ£ Ø¥Ø¶Ø§ÙØ© Wallet Rollback (Ù…Ø­Ø³Ù‘Ù† Ø¥Ø¶Ø§ÙÙŠ)

**Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©:** Ø¹Ù†Ø¯ ÙØ´Ù„ Ø§Ù„Ù…Ø­Ø§Ø³Ø¨Ø©ØŒ ÙŠØªÙ… throw error Ù„ÙƒÙ† Ù„Ø§ ÙŠØªÙ… Ø§Ø³ØªØ±Ø¬Ø§Ø¹ Ø®ØµÙ… Ø§Ù„Ù…Ø­ÙØ¸Ø©

```typescript
// apps/api/src/modules/wallet/wallet.service.ts
async payFromWallet(params) {
  // Ø®ØµÙ… Ø§Ù„Ù…Ø­ÙØ¸Ø©
  const wallet = await this.deductBalance(params.walletId, params.amount);
  
  try {
    // Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙØ§ØªÙˆØ±Ø©
    const result = await this.accountingBridge.recordWalletPayment({...});
    return { success: true, ...result };
  } catch (error) {
    // âš ï¸ TODO: Ø¥Ø¶Ø§ÙØ© wallet rollback Ù‡Ù†Ø§
    console.error('ÙØ´Ù„Øª Ø§Ù„Ù…Ø­Ø§Ø³Ø¨Ø©ØŒ ÙŠÙÙØ¶Ù„ Ø§Ø³ØªØ±Ø¬Ø§Ø¹ Ø§Ù„Ø®ØµÙ…');
    throw error;
  }
}
```

### 2ï¸âƒ£ Ø¥Ø¶Ø§ÙØ© Idempotency Ù„Ù„Ø­Ù…Ø§ÙŠØ© Ù…Ù† Ø§Ù„ØªÙƒØ±Ø§Ø±

```typescript
// Ø¥Ø¶Ø§ÙØ© unique constraint Ø¹Ù„Ù‰ payment_id
await this.accountingService.createInvoice({
  ...data,
  metadata: { paymentId: params.paymentId } // Ù…Ù†Ø¹ Ø§Ù„ØªÙƒØ±Ø§Ø±
});
```

### 3ï¸âƒ£ ØªØ­Ø³ÙŠÙ† Ø§Ù„Ù€ Logging

**Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©:** console.log/error Ù…ÙˆØ¬ÙˆØ¯Ø© âœ…

**ØªØ­Ø³ÙŠÙ† Ù…Ø³ØªÙ‚Ø¨Ù„ÙŠ:**
```typescript
// Ø§Ø³ØªØ®Ø¯Ø§Ù… logger service Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† console
this.logger.log('Invoice created', { invoiceId, paymentId });
```

## âœ… Ù…Ù„Ø®Øµ Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©

### Ù…Ø§ ØªÙ… Ø¥ØµÙ„Ø§Ø­Ù‡:

1. âœ… **WalletService** ÙŠØ³ØªØ¯Ø¹ÙŠ accountingBridge Ù…Ø¹ ÙƒØ§ÙØ© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„
2. âœ… **WalletAccountingBridge** ÙŠÙ†ÙØ° Ø¯ÙˆØ±Ø© Ø­ÙŠØ§Ø© Ø§Ù„ÙØ§ØªÙˆØ±Ø© Ø§Ù„ÙƒØ§Ù…Ù„Ø© (3 Ø®Ø·ÙˆØ§Øª)
3. âœ… **AccountingService.recordInvoicePayment** ÙŠØ¶ÙŠÙ metadata.customerId Ù„Ù„ÙÙ„ØªØ±Ø©
4. âœ… **Error Handling** Ø´Ø§Ù…Ù„ Ù…Ø¹ console.log/error
5. âœ… **Ø¨Ù†ÙˆØ¯ Ø§Ù„ÙØ§ØªÙˆØ±Ø©** ØªØªØ¶Ù…Ù† dimensions.businessId Ù„Ù„Ø±Ø¨Ø·

### Ù…Ø§ ÙŠØ­ØªØ§Ø¬ ØªØ­Ø³ÙŠÙ† Ø§Ø®ØªÙŠØ§Ø±ÙŠ:

- âš ï¸ Wallet rollback Ø¹Ù†Ø¯ ÙØ´Ù„ Ø§Ù„Ù…Ø­Ø§Ø³Ø¨Ø© (ØºÙŠØ± Ø­Ø±Ø¬)
- ğŸ’¡ Idempotency Ù„Ù„Ø­Ù…Ø§ÙŠØ© Ù…Ù† Ø§Ù„ØªÙƒØ±Ø§Ø± (ØªØ­Ø³ÙŠÙ† Ø£Ù…Ø§Ù†)
- ğŸ’¡ Logger service Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† console (best practice)

---

**Ø§Ù„Ù†ØªÙŠØ¬Ø©:** Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠ ÙŠØ¹Ù…Ù„ Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­! âœ… Ø§Ù„ÙÙˆØ§ØªÙŠØ± ØªÙÙ†Ø´Ø£ Ø¹Ù†Ø¯ ØªØ¬Ø¯ÙŠØ¯ Ø§Ù„Ø¨Ø§Ù‚Ø§Øª ÙˆØ§Ù„Ø¯ÙØ¹ Ù…Ù† Ø§Ù„Ù…Ø­ÙØ¸Ø©.

**Ù„Ù„ØªØ­Ù‚Ù‚:** Ø±Ø§Ø¬Ø¹ console logs Ø¹Ù†Ø¯ ØªØ¬Ø¯ÙŠØ¯ Ø¨Ø§Ù‚Ø© - Ø³ØªØ±Ù‰:
```
ğŸ¯ WalletAccountingBridge: Ø¨Ø¯Ø¡ ØªØ³Ø¬ÙŠÙ„ Ù…Ø¹Ø§Ù…Ù„Ø© Ù…Ø­ÙØ¸Ø©
ğŸ“ Ø¥Ù†Ø´Ø§Ø¡ ÙØ§ØªÙˆØ±Ø© Ø¬Ø¯ÙŠØ¯Ø©...
âœ… Ø¥ØµØ¯Ø§Ø± Ø§Ù„ÙØ§ØªÙˆØ±Ø© ÙˆØ¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠ...
ğŸ’° ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯ÙØ¹ ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠ...
```

    // Create journal entry
    const journalEntry = await this.createJournalEntry(userId, {
        // ... journal entry details
    });

    // Update invoice with journal entry
    return this.prisma.accInvoice.update({
        where: { id: invoiceId },
        data: {
            status: 'ISSUED',
            journalEntryId: journalEntry.id,
            issuedAt: new Date(),
        }
    });
}
```

### 3ï¸âƒ£ ØªØ­Ø³ÙŠÙ† WalletService

```typescript
// apps/api/src/modules/wallet/wallet.service.ts
async payFromWallet(userId: string, dto: WalletPaymentDto) {
    // ... existing wallet deduction logic

    try {
        // Get package details for proper invoice
        const packageData = await this.getPackageDetails(dto.packageId);

        // Call accounting bridge with complete data
        const accountingResult = await this.accountingBridge.recordWalletPayment({
            userId: userId,
            paymentId: transaction.id,
            walletId: wallet.id,
            walletOwnerId: wallet.userId,
            grossAmount: amount,
            netAmount: amount,
            paymentType: 'SUBSCRIPTION',
            referenceId: dto.businessId,
            referenceName: packageData.nameAr,
            customerName: `${user.firstName} ${user.lastName}`,
            taxAmount: packageData.taxAmount || 0,
            taxId: packageData.taxId,
            businessId: dto.businessId,
        });

        // Verify invoice was created
        if (!accountingResult.invoiceId) {
            throw new Error('Failed to create invoice for wallet payment');
        }

        return {
            success: true,
            transactionId: transaction.id,
            invoiceId: accountingResult.invoiceId,
            newBalance: balanceAfter
        };

    } catch (error) {
        // Rollback wallet deduction if accounting fails
        await this.refundWalletPayment(wallet.id, amount);
        throw error;
    }
}
```

### 4ï¸âƒ£ Ø¥Ø¶Ø§ÙØ© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡

```typescript
// Add comprehensive error logging
async recordWalletPayment(params: any) {
    this.logger.log(`Recording wallet payment: ${params.paymentId}`);

    try {
        // ... implementation

        this.logger.log(`Successfully recorded payment ${params.paymentId} with invoice ${invoiceId}`);
        return result;

    } catch (error) {
        this.logger.error(`Failed to record wallet payment ${params.paymentId}: ${error.message}`, error.stack);
        throw error;
    }
}
```

## ğŸ“‹ Ø§Ù„Ø®Ø·ÙˆØ§Øª Ø§Ù„ØªØ§Ù„ÙŠØ©

1. **ÙØ­Øµ Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø­Ø§Ù„ÙŠ**:
   ```bash
   # Check current implementation
   grep -r "createInvoice" apps/api/src/modules/accounting/
   grep -r "recordWalletPayment" apps/api/src/modules/wallet/
   ```

2. **Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ØªØ¯ÙÙ‚**:
   ```typescript
   // Test the flow
   const testResult = await walletService.payFromWallet('test-user', {
       packageId: 'test-package',
       businessId: 'test-business',
       amount: 1000
   });

   // Verify invoice was created
   const invoice = await accountingService.getInvoiceById(testResult.invoiceId);
   console.log('Invoice created:', invoice);
   ```

3. **ØªØµØ­ÙŠØ­ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡**:
   - Ø¥ØµÙ„Ø§Ø­ `WalletAccountingBridge` Ù„Ø¶Ù…Ø§Ù† Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙÙˆØ§ØªÙŠØ±
   - ØªØ­Ø³ÙŠÙ† `AccountingService` Ù„Ø¶Ù…Ø§Ù† Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙÙˆØ§ØªÙŠØ± Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­
   - ØªØ­Ø³ÙŠÙ† `WalletService` Ù„Ø¶Ù…Ø§Ù† ØªÙ…Ø±ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØµØ­ÙŠØ­Ø©
   - Ø¥Ø¶Ø§ÙØ© ØªØ³Ø¬ÙŠÙ„ Ø£Ø®Ø·Ø§Ø¡ Ø´Ø§Ù…Ù„

4. **Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù†Ø¸Ø§Ù…**:
   - Ø§Ø®ØªØ¨Ø§Ø± ØªØ¯ÙÙ‚ ØªØ¬Ø¯ÙŠØ¯ Ø§Ù„Ø¨Ø§Ù‚Ø© Ø¨Ø§Ù„ÙƒØ§Ù…Ù„
   - Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙÙˆØ§ØªÙŠØ±
   - Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù‚ÙŠÙˆØ¯ Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠØ©
   - Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„ÙÙˆØ§ØªÙŠØ±

## ğŸ”š Ø§Ù„Ø®Ø§ØªÙ…Ø©

Ø§Ù„Ù…Ø´ÙƒÙ„Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ù‡ÙŠ Ø£Ù† Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø­ÙØ¸Ø© Ù„Ø§ ÙŠÙ†Ø´Ø¦ ÙÙˆØ§ØªÙŠØ± Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­ Ø¹Ù†Ø¯ Ø§Ù„Ø¯ÙØ¹ Ù…Ù† Ø§Ù„Ù…Ø­ÙØ¸Ø©. Ø§Ù„Ø³Ø¨Ø¨ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ Ù‡Ùˆ Ø£Ù† `WalletAccountingBridge` Ù‚Ø¯ Ù„Ø§ ÙŠÙ†Ø´Ø¦ Ø§Ù„ÙÙˆØ§ØªÙŠØ± Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­ØŒ Ø£Ùˆ Ø£Ù† `AccountingService` Ù‚Ø¯ Ù„Ø§ ØªØ¹Ø§Ù„Ø¬ Ø§Ù„Ø¯ÙØ¹ Ù…Ù† Ø§Ù„Ù…Ø­ÙØ¸Ø© Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­. Ø§Ù„Ø­Ù„ ÙŠØªØ·Ù„Ø¨ ØªØ­Ø³ÙŠÙ† Ø§Ù„ÙƒÙˆØ¯ ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„Ù…ÙƒÙˆÙ†Ø§ØªØŒ Ø¥Ø¶Ø§ÙØ© ØªØ³Ø¬ÙŠÙ„ Ø£Ø®Ø·Ø§Ø¡ Ø´Ø§Ù…Ù„ØŒ ÙˆØ¶Ù…Ø§Ù† Ø£Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø®Ø·ÙˆØ§Øª (Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙØ§ØªÙˆØ±Ø©ØŒ Ø¥ØµØ¯Ø§Ø± Ø§Ù„ÙØ§ØªÙˆØ±Ø©ØŒ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯ÙØ¹) ØªØ¹Ù…Ù„ Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­.
