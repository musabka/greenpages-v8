# ๐ ููุญุฉ ุชุญูู ุงููุณุชุฎุฏู - User Dashboard

## ๐ ูุธุฑุฉ ุนุงูุฉ

ููุญุฉ ุชุญูู ููุญุฏุฉ ูุงุญุชุฑุงููุฉ ูููุณุชุฎุฏููู ุงูุนุงุฏููู ูุฃุตุญุงุจ ุงูุฃูุดุทุฉ ุงูุชุฌุงุฑูุฉ ุชุชุจุน ูุจุงุฏุฆ SSOT (Single Source of Truth) ูููุญุงุณุจุฉ ูุชููุฑ ุชุฌุฑุจุฉ ูุณุชุฎุฏู ูุชูุงููุฉ.

---

## ๐ฏ ุงููุจุงุฏุฆ ุงูุฃุณุงุณูุฉ

### 1. ุตูุญุฉ ูุงุญุฏุฉ ูุงุถุญุฉ + ุตูุญุงุช ุชูุงุตูู ุนูุฏ ุงูุญุงุฌุฉ
- ุชุฌูุจ ุงูุชุดุนุจ ุงูุฒุงุฆุฏ
- ูุนูููุงุช ูุงุถุญุฉ ููุจุงุดุฑุฉ
- ุชููู ุณูุณ ุจูู ุงูุฃูุณุงู

### 2. ุงููุญุงุณุจุฉ SSOT
- ูู ุฑุตูุฏ ุฃู ูุฏููุนุงุช ูุฑุชุจุทุฉ ุจุณุฌูุงุช ูุญุงุณุจูุฉ/ููุงุชูุฑ
- ูุง ุฃุฑูุงู ูุนุฒููุฉ ุจุฏูู ูุฑุฌุนูุฉ
- ุชูุงูู ูุงูู ูุน ูุธุงู ุงููุญุงุณุจุฉ

### 3. ุชุฌุฑุจุฉ ููุญุฏุฉ Web/Flutter
- ููุณ ุงูุฃูุณุงู ูุงูููุทู
- ููุณ ุฃุณูุงุก ุงูุญุงูุงุช
- API ููุญุฏ

---

## ๐ง ุงูุจููุฉ ุงูุชูููุฉ ุงูููุชููุฉ

### Backend API

#### 1. User Dashboard Controller & Service
**ุงููููุงุช:**
- `apps/api/src/modules/users/user-dashboard.controller.ts` โ
- `apps/api/src/modules/users/user-dashboard.service.ts` โ

**Endpoints:**
```typescript
GET /user/dashboard/summary                    // ููุฎุต ููุญุฉ ุงูุชุญูู
GET /user/dashboard/business-stats              // ุฅุญุตุงุฆูุงุช ุงูุฃูุดุทุฉ
GET /user/dashboard/business/:id/subscription   // ุงุดุชุฑุงู ูุดุงุท
GET /user/dashboard/business/:id/financial      // ููุฎุต ูุงูู ููุดุงุท
GET /user/dashboard/local-offers                // ุนุฑูุถ ูุญููุฉ
```

#### 2. User Accounting Controller
**ุงูููู:**
- `apps/api/src/modules/accounting/accounting-user.controller.ts` โ

**Endpoints:**
```typescript
GET /user/accounting/invoices                   // ูุงุฆูุฉ ููุงุชูุฑ ุงููุณุชุฎุฏู
GET /user/accounting/invoices/:id               // ุชูุงุตูู ูุงุชูุฑุฉ
POST /user/accounting/invoices/:id/pay          // ุฏูุน ูุงุชูุฑุฉ
GET /user/accounting/business/:id/invoices      // ููุงุชูุฑ ูุดุงุท
GET /user/accounting/business/:id/financial-summary // ููุฎุต ูุงูู
GET /user/accounting/payments                    // ุณุฌู ุงููุฏููุนุงุช
```

#### 3. Existing APIs ุงููุณุชุฎุฏูุฉ
```typescript
// Wallet APIs
GET /wallet/balance                             // ุฑุตูุฏ ุงููุญูุธุฉ
GET /wallet/transactions                        // ูุนุงููุงุช ุงููุญูุธุฉ
POST /wallet/top-up                             // ุดุญู ุงููุญูุธุฉ
POST /wallet/pay                                // ุฏูุน
// ููุงุญุธุฉ: ูุง ููุฌุฏ API ููุณุญุจ - ุงููุญูุธุฉ ููุงุณุชุฎุฏุงู ุงูุฏุงุฎูู ููุท

// Reviews APIs
GET /reviews/me                                 // ูุฑุงุฌุนุงุช ุงููุณุชุฎุฏู

// Capabilities APIs  
GET /capabilities/my-capabilities               // ุงูุฃูุดุทุฉ ุงููุฑุชุจุทุฉ

// Packages APIs
GET /packages/business/:id                      // ุจุงูุฉ ุงููุดุงุท
```

---

## ๐ฑ ููููุงุช ููุญุฉ ุงูุชุญูู

### 1๏ธโฃ ูููุณุชุฎุฏู ุงูุนุงุฏู (ุจุฏูู ูุดุงุท ุชุฌุงุฑู)

#### A. ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ (Overview)
**ุงูููููุงุช:**
- ุดุฑูุท ุชุฑุญูุจ (ุงูุงุณูุ ุงููุญุงูุธุฉ/ุงููุฏููุฉ/ุงูุญู)
- ุฒุฑ "ุชุนุฏูู ุจูุงูุงุชู"
- ุจุทุงูุฉ ุงููุญูุธุฉ (ุงูุฑุตูุฏ + ุฃุฒุฑุงุฑ)
- ุจุทุงูุฉ ุฅุนูุงูุงุช/ุนุฑูุถ ุญุณุจ ุงูููุทูุฉ

**ุงูุจูุงูุงุช ุงููุทููุจุฉ:**
```typescript
{
  user: {
    firstName, lastName, email, phone, avatar,
    governorate: { nameAr, slug },
    city: { nameAr, slug },
    district: { nameAr, slug }
  },
  wallet: {
    balance, frozenBalance,
    totalDeposits, totalWithdrawals, totalSpent,
    status
  },
  localOffers: Ad[]
}
```

#### B. ุงููุญูุธุฉ (Wallet)
**ุงูููููุงุช:**
- ุงูุฑุตูุฏ ุงูุญุงูู
- ุฒุฑ ุดุญู ุงููุญูุธุฉ
- ูุงุฆูุฉ ุขุฎุฑ 20 ุนูููุฉ
- ููุชุฑ (ุดุญู/ุฏูุน/ุงุณุชุฑุฏุงุฏ)
- ุญุงูุฉ ูู ุนูููุฉ (Pending/Completed/Failed)

**ุงุณุชุฎุฏุงูุงุช ุงููุญูุธุฉ:**
- โ ุดุฑุงุก ูุชุฌุฏูุฏ ุจุงูุงุช ุงูุฃูุดุทุฉ ุงูุชุฌุงุฑูุฉ
- โ ุฅูุดุงุก ูุฅุฏุงุฑุฉ ุงูุฅุนูุงูุงุช
- โ ุดุฑุงุก ุฎุฏูุงุช ุงูุตูุญุงุช ุงูุฎุถุฑุงุก ุงููุณุชูุจููุฉ
- โ ูุง ูููู ุณุญุจ ุงูุฃููุงู (ุงุณุชุฎุฏุงู ุฏุงุฎูู ููุท)

**ุงูุญุงูุงุช:**
```typescript
enum WalletTransactionType {
  DEPOSIT, PAYMENT, REFUND,
  COMMISSION, BONUS, TRANSFER_IN,
  FEE, ADJUSTMENT
}

enum WalletTransactionStatus {
  PENDING, COMPLETED, FAILED, CANCELLED, REVERSED
}
```

#### C. ุงูููุงุชูุฑ ูุงููุฏููุนุงุช (Invoices & Payments)
**ุงูููููุงุช:**
- ูุงุฆูุฉ ููุงุชูุฑ ูุน ููุชุฑุฉ
- ุญุงูุงุช: DRAFT / ISSUED / PARTIAL / PAID / CANCELLED
- ููู ูุงุชูุฑุฉ:
  - ุฑูู ุงููุงุชูุฑุฉ
  - ุงูุจูุฏ (ุงุดุชุฑุงู/ุฅุนูุงู/ุฎุฏูุฉ)
  - ุงูุฅุฌูุงูู + ุงูุถุฑูุจุฉ
  - ุงูุญุงูุฉ
  - ุฒุฑ "ุฏูุน ุงูุขู"

**ุตูุญุฉ ุงููุงุชูุฑุฉ:**
- ุชูุงุตูู ุงูุจููุฏ
- ุงูุถุฑูุจุฉ
- ุงููุฏููุน
- ุงููุชุจูู
- ุณุฌู ุงูุฏูุนุงุช

#### D. ูููู ุงูุดุฎุตู (Profile)
**ุงูููููุงุช:**
- ุงูุงุณู ุงููุงูู
- ุงููุงุชู/ุงูุจุฑูุฏ
- **ุงููุญุงูุธุฉ/ุงููุฏููุฉ/ุงูุญู** (ููู!)
- ุฅุนุฏุงุฏุงุช ุงูุฅุดุนุงุฑุงุช
- ุชุบููุฑ ูููุฉ ุงููุฑูุฑ

#### E. ุงูุฏุนู ูุงููุณุงุนุฏุฉ (Support)
- ูุชุญ ุชุฐูุฑุฉ
- ุงูุฃุณุฆูุฉ ุงูุดุงุฆุนุฉ
- ุณูุงุณุงุช (ุฎุตูุตูุฉ/ุดุฑูุท)

---

### 2๏ธโฃ ูุตุงุญุจ ุงููุดุงุท ุงูุชุฌุงุฑู (Owner Dashboard)

#### A. ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ (Owner Overview)
**ุงูููููุงุช:**

1. **ุจุทุงูุฉ ุงููุดุงุท**
   - ุงุณู ุงููุดุงุท
   - ุงูุญุงูุฉ: Active / Pending / Suspended
   - ุงูุจุงูุฉ ุงูุญุงููุฉ + ุชุงุฑูุฎ ุงูุงูุชูุงุก
   - ุฒุฑ: ุชุฌุฏูุฏ/ุชุฑููุฉ ุงูุจุงูุฉ

2. **ุจุทุงูุฉ ุงููุฏููุนุงุช**
   - ุฑุตูุฏ ุงููุญูุธุฉ
   - ููุงุชูุฑ ูุณุชุญูุฉ (ุนุฏุฏ + ูุฌููุน)
   - ุฒุฑ "ุฏูุน ุงูููุงุชูุฑ"

3. **ุจุทุงูุฉ ุงูุฃุฏุงุก**
   - ุนุฏุฏ ุงูุฒูุงุฑุงุช/ุงููุดุงูุฏุงุช
   - ุนุฏุฏ ุงูููุงููุงุช/ุงูููุฑุงุช (ุฅู ูุฌุฏ)
   - ุชูููู ุงููุดุงุท (ูุฌูู + ุนุฏุฏ ุงููุฑุงุฌุนุงุช)

4. **ุชูุจููุงุช ูููุฉ**
   - "ุงุดุชุฑุงูู ุณููุชูู ุฎูุงู X ุฃูุงู"
   - "ูุฏูู ูุฑุงุฌุนุงุช ุชุญุชุงุฌ ุฑุฏ"
   - "ูุงุชูุฑุฉ ุบูุฑ ูุฏููุนุฉ"

#### B. ุฅุฏุงุฑุฉ ุงููุดุงุท ุงูุชุฌุงุฑู (Business Management)
**ุตูุญุฉ ูุงุญุฏุฉ ูุฌูุนุฉ ูุน ุชุจููุจุงุช:**

**(A) ุงูุจูุงูุงุช ุงูุฃุณุงุณูุฉ**
- ุงูุงุณู + ุงูุชุตููู + ุงูุนููุงู
- ุงููููุน ุงูุฌุบุฑุงูู
- ุณุงุนุงุช ุงูุนูู
- ูุณุงุฆู ุงูุชูุงุตู
- ุตูุฑ ุงููุดุงุท

**(B) ุงูุจุงูุงุช ูุงูุงุดุชุฑุงูุงุช**
- ุงูุจุงูุฉ ุงูุญุงููุฉ
- ุชุงุฑูุฎ ุงูุจุฏุงูุฉ/ุงูุงูุชูุงุก
- ุณุฌู ุงูุจุงูุงุช ุงูุณุงุจูุฉ
- ุฒุฑ: "ุดุฑุงุก/ุชุฌุฏูุฏ"
- **ุนุฑุถ ุงูุถุฑุงุฆุจ ุจูุถูุญ**
- **ุงููุณุชุฎุฏู: ุนุฑุถ ููุทุ ูุง ุชุนุฏูู**

**(C) ุงูุฅุนูุงูุงุช**
- ุณูุชู ุชุทููุฑู ูุงุญูุงู

#### C. ุงููุฑุงุฌุนุงุช (Reviews)
**ุงููุฑุงุฌุนุงุช ุงููุงุฑุฏุฉ ูููุดุงุท:**
- ููุชุฑ: ูุฌูู / ุชุงุฑูุฎ / ุชู ุงูุฑุฏ/ูู ูุชู ุงูุฑุฏ
- ูู ูุฑุงุฌุนุฉ:
  - ุงุณู ุงููุณุชุฎุฏู
  - ุงูุชูููู
  - ุงููุต
  - ุฒุฑ: "ุฑุฏ"
  - ุฒุฑ: "ุฅุจูุงุบ/ุทูุจ ุฅุฒุงูุฉ"

**ูุฑุงุฌุนุงุชู ุฃูุง:**
- ุงููุฑุงุฌุนุงุช ุงูุชู ูุชุจูุง ุงููุณุชุฎุฏู
- ุฅููุงููุฉ ุชุนุฏูู/ุญุฐู

#### D. ุงููุงููุฉ (Billing Center)
**ุงููุญุชูู:**
- ูุงุฆูุฉ ุงูููุงุชูุฑ
- ุณุฌู ุงูุฏูุนุงุช
- ุฅุดุนุงุฑุงุช ุฅู ููุฌุฏุช
- ุงููุญูุธุฉ ููุณููุฉ ุฏูุน ุฃุณุงุณูุฉ
- ูุณุงุฆู ุงูุฏูุน ุงููุชุงุญุฉ

**ููุงุญุธุฉ:** ูุง ุชุนุฑุถ ูููุฏ ูุญุงุณุจูุฉ ูููุณุชุฎุฏู. ููุท ููุงุชูุฑ + ุฏูุนุงุช + ุฃุณุจุงุจ.

#### E. ุฑุจุท ุงููุงูู (Owner Linking)
**ุฏุงุฎู ุตูุญุฉ ุงููุดุงุท:**
- "ุฃูุช ุงููุงูู: ูุนู/ูุง"
- "ุญุงูุฉ ุงูุฑุจุท: Pending/Approved/Rejected"

---

## ๐งญ ุงูุชููู (Navigation)

### ูููุณุชุฎุฏู ุงูุนุงุฏู:
```
๐ ุงูุฑุฆูุณูุฉ
๐ฐ ุงููุญูุธุฉ
๐ ุงูููุงุชูุฑ
๐ค ูููู
โ ุงูุฏุนู
```

### ูุตุงุญุจ ุงููุดุงุท:
```
๐ ุงูุฑุฆูุณูุฉ
๐ข ูุดุงุทู (ุฃู ุฃูุดุทุชู)
โญ ุงููุฑุงุฌุนุงุช
๐ณ ุงูููุงุชูุฑ ูุงููุฏููุนุงุช
๐ฐ ุงููุญูุธุฉ
๐ค ูููู
โ ุงูุฏุนู
```

---

## ๐ ุงูุญุงูุงุช (Statuses)

### Wallet Transaction
```typescript
PENDING    // ููุฏ ุงูุงูุชุธุงุฑ
COMPLETED  // ููุชููุฉ
FAILED     // ูุดูุช
CANCELLED  // ููุบุงุฉ
REVERSED   // ููุณุชุฑุฌุนุฉ
```

### Invoice
```typescript
DRAFT      // ูุณูุฏุฉ
ISSUED     // ูุตุฏุฑุฉ
PARTIAL    // ุฏูุน ุฌุฒุฆู
PAID       // ูุฏููุนุฉ
CANCELLED  // ููุบุงุฉ
```

### Business Link
```typescript
PENDING    // ูุนูู
APPROVED   // ููุงูู ุนููู
REJECTED   // ูุฑููุถ
```

### Subscription
```typescript
ACTIVE     // ูุดุทุฉ
EXPIRED    // ููุชููุฉ
SUSPENDED  // ูููููุฉ
```

---

## ๐ ุงุณุชุฎุฏุงู ุจูุงูุงุช ุงููููุน (Governorate/City/District)

### ุงุณุชุฎุฏุงูุงุช ุนูููุฉ:
1. **ุนุฑูุถ ูุฎุตุตุฉ ูููุทูุชู**
   - ุฅุนูุงูุงุช ูุญููุฉ
   - ุจุงูุงุช ุฎุงุตุฉ ุจุงููุญุงูุธุฉ

2. **ุงูุชุฑุงุญุงุช ุชุญุณูู**
   - "ุงูุชุฑุงุญุงุช ุชุญุณูู ุธููุฑ ูุดุงุทู ุฏุงุฎู ูุญุงูุธุชู"

3. **ููุชุฑุฉ ุชูุงุฑูุฑ**
   - ุชูุงุนู ูุดุงุทู ุฏุงุฎู ููุณ ุงูููุทูุฉ

---

## ๐๏ธ ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุงูุฌุฏุงูู ุงููุณุชุฎุฏูุฉ:

#### Core Tables
```sql
users                       -- ุจูุงูุงุช ุงููุณุชุฎุฏู + ุงููููุน
governorates, cities, districts  -- ุงูุจูุงูุงุช ุงูุฌุบุฑุงููุฉ
```

#### Wallet System
```sql
wallets                     -- ุงููุญุงูุธ
wallet_transactions         -- ุงููุนุงููุงุช
wallet_top_ups             -- ุทูุจุงุช ุงูุดุญู
wallet_withdrawals         -- ุทูุจุงุช ุงูุณุญุจ
```

#### Accounting System
```sql
acc_invoices               -- ุงูููุงุชูุฑ
acc_invoice_lines          -- ุจููุฏ ุงูููุงุชูุฑ
acc_journal_entries        -- ุงููููุฏ ุงููุญุงุณุจูุฉ
acc_journal_lines          -- ุณุทูุฑ ุงููููุฏ
```

#### Business System
```sql
businesses                 -- ุงูุฃูุดุทุฉ ุงูุชุฌุงุฑูุฉ
business_packages          -- ุงุดุชุฑุงูุงุช ุงูุจุงูุงุช
user_business_capabilities -- ุตูุงุญูุงุช ุงููุณุชุฎุฏููู
business_ownership_invitations  -- ุฏุนูุงุช ุงูููููุฉ
```

#### Reviews & Ads
```sql
reviews                    -- ุงููุฑุงุฌุนุงุช
ads                        -- ุงูุฅุนูุงูุงุช
ad_governorates, ad_cities -- ุงุณุชูุฏุงู ุงูุฅุนูุงูุงุช
```

---

## โ ูุง ุชู ุฅูุฌุงุฒู - ุงูุชูุตูู ุงููุงูู

### Backend (100% ููุชูู)

#### 1. User Dashboard Service
**ุงูููู:** `apps/api/src/modules/users/user-dashboard.service.ts`

**ุงููุธุงุฆู ุงููููุฐุฉ:**
- โ `getUserDashboardSummary()` - ููุฎุต ุดุงูู ูููุญุฉ ุงูุชุญูู
- โ `getBusinessStats()` - ุฅุญุตุงุฆูุงุช ุงูุฃูุดุทุฉ ุงูุชุฌุงุฑูุฉ
- โ `getBusinessSubscription()` - ูุนูููุงุช ุงูุงุดุชุฑุงู
- โ `getBusinessFinancialSummary()` - ุงูููุฎุต ุงููุงูู
- โ `getLocalOffers()` - ุงูุนุฑูุถ ุงููุญููุฉ

**ุงูุจูุงูุงุช ุงูููุฑุฌุนุฉ:**
```typescript
{
  user: {
    id, firstName, lastName, email, phone, avatar,
    governorate: { id, nameAr, slug },
    city: { id, nameAr, slug },
    district: { id, nameAr, slug }
  },
  wallet: {
    balance, frozenBalance,
    totalDeposits, totalWithdrawals, totalSpent,
    status
  },
  businessCapabilities: [{
    businessId, role,
    business: {
      id, nameAr, slug, logo, status,
      ownerStatus, isVerified,
      viewsCount, averageRating,
      governorate, city
    }
  }],
  reviews: {
    count, averageRating
  },
  hasBusinessAccess
}
```

#### 2. User Dashboard Controller
**ุงูููู:** `apps/api/src/modules/users/user-dashboard.controller.ts`

**Endpoints:**
```
GET /user/dashboard/summary
GET /user/dashboard/business-stats
GET /user/dashboard/business/:businessId/subscription
GET /user/dashboard/business/:businessId/financial
GET /user/dashboard/local-offers
```

#### 3. User Accounting Controller
**ุงูููู:** `apps/api/src/modules/accounting/accounting-user.controller.ts`

**Endpoints:**
```
GET  /user/accounting/invoices                  // ูุงุฆูุฉ ุงูููุงุชูุฑ
GET  /user/accounting/invoices/:id              // ุชูุงุตูู ูุงุชูุฑุฉ
POST /user/accounting/invoices/:id/pay          // ุฏูุน ูุงุชูุฑุฉ
GET  /user/accounting/business/:id/invoices     // ููุงุชูุฑ ูุดุงุท
GET  /user/accounting/business/:id/financial-summary
GET  /user/accounting/payments                   // ุณุฌู ุงููุฏููุนุงุช
```

#### 4. Module Updates
- โ `apps/api/src/modules/users/users.module.ts` - ุฃุถูู UserDashboardService ูController
- โ `apps/api/src/modules/accounting/accounting.module.ts` - ุฃุถูู AccountingUserController

---

### Frontend (70% ููุชูู)

#### โ ุงูููููุงุช ุงูููุดุฃุฉ

**1. Dashboard Components:**
```
apps/web/src/app/dashboard/
โโโ page-new.tsx                          โ ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ ุงููุญุฏุซุฉ
โโโ components/
    โโโ WalletCard.tsx                    โ ุจุทุงูุฉ ุงููุญูุธุฉ
    โโโ QuickActions.tsx                  โ ุงูุฅุฌุฑุงุกุงุช ุงูุณุฑูุนุฉ
    โโโ AlertsCard.tsx                    โ ุจุทุงูุฉ ุงูุชูุจููุงุช
    โโโ BusinessStatsCard.tsx             โ ุฅุญุตุงุฆูุงุช ุงูุฃูุดุทุฉ
    โโโ ReviewsCard.tsx                   โ ุจุทุงูุฉ ุงููุฑุงุฌุนุงุช
    โโโ LocalOffersCard.tsx               โ ุงูุนุฑูุถ ุงููุญููุฉ
```

**2. Wallet Page:**
```
apps/web/src/app/dashboard/wallet/
โโโ page-new.tsx                          โ ุตูุญุฉ ุงููุญูุธุฉ ุงููุญุฏุซุฉ
```

#### โณ ุงูุตูุญุงุช ููุฏ ุงูุฅูุดุงุก

**ุตูุญุงุช ุงููุญูุธุฉ:**
- โ `wallet/page.tsx` - ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ (ูุญุฏุซุฉ)
- โ `wallet/top-up/page.tsx` - ุงูุดุญู (ูุญุฏุซุฉ)
- โ `wallet/withdraw/page.tsx` - ูุญุฐููุฉ (ุงูุณุญุจ ุบูุฑ ูุณููุญ)
- โ `wallet/pay/page.tsx` - ุงูุฏูุน (ููุฌูุฏุฉ)

**ุตูุญุงุช ุงูููุงุชูุฑ:**
- โณ `invoices/page.tsx` - ูุงุฆูุฉ ุงูููุงุชูุฑ
- โณ `invoices/[id]/page.tsx` - ุชูุงุตูู ุงููุงุชูุฑุฉ
- โณ `invoices/[id]/pay/page.tsx` - ุฏูุน ุงููุงุชูุฑุฉ

**ุตูุญุงุช ุงูุฃูุดุทุฉ:**
- โ `my-businesses/page.tsx` - ููุฌูุฏุฉ ูุณุจูุงู
- โณ `my-businesses/[id]/page.tsx` - ุชูุงุตูู ุงููุดุงุท
- โณ `my-businesses/[id]/subscription/page.tsx` - ุงูุงุดุชุฑุงู
- โณ `my-businesses/[id]/financial/page.tsx` - ุงููุงููุฉ
- โณ `my-businesses/[id]/reviews/page.tsx` - ุงููุฑุงุฌุนุงุช

**ุตูุญุงุช ุงููุฑุงุฌุนุงุช:**
- โณ `reviews/page.tsx` - ูุงุฆูุฉ ูุฑุงุฌุนุงุชู
- โณ `reviews/[id]/page.tsx` - ุชูุงุตูู ุงููุฑุงุฌุนุฉ

**ุตูุญุฉ ุงูููู ุงูุดุฎุตู:**
- โณ `profile/page.tsx` - ุชุญุฏูุซ ูุน ุชุฑููุฒ ุนูู ุงููููุน

---

### ูุง ุชู ุชุญูููู ูู ุงููุชุทูุจุงุช

#### โ ุงููุจุงุฏุฆ ุงูุฃุณุงุณูุฉ
1. โ ุตูุญุฉ ูุงุญุฏุฉ ูุงุถุญุฉ + ุตูุญุงุช ุชูุงุตูู
2. โ ุงููุญุงุณุจุฉ SSOT - ูู ุงูุฃุฑูุงู ูุฑุชุจุทุฉ ุจูุงุนุฏุฉ ุงูุจูุงูุงุช
3. โ ุชุฌุฑุจุฉ ููุญุฏุฉ - ููุณ ุงูุจููุฉ ูุงูููุทู

#### โ ูููุณุชุฎุฏู ุงูุนุงุฏู
- โ ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ (Overview)
- โ ุจุทุงูุฉ ุงููุญูุธุฉ ูุน ุงูุฑุตูุฏ ูุงูุฅุฌุฑุงุกุงุช
- โ ุจุทุงูุฉ ุงููุฑุงุฌุนุงุช
- โ ุนุฑูุถ ูุญููุฉ ุญุณุจ ุงููุญุงูุธุฉ/ุงููุฏููุฉ
- โ ุตูุญุฉ ุงููุญูุธุฉ ุงููุงููุฉ
- โณ ุตูุญุฉ ุงูููุงุชูุฑ
- โณ ุตูุญุฉ ุงูููู ุงูุดุฎุตู (ุชุญุฏูุซ)
- โณ ุตูุญุฉ ุงูุฏุนู

#### โ ูุตุงุญุจ ุงููุดุงุท
- โ ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ (Owner Overview)
- โ ุจุทุงูุฉ ุงููุดุงุท ูุน ุงูุญุงูุฉ
- โ ุฅุญุตุงุฆูุงุช ุงููุดุงูุฏุงุช
- โ ูุงุฆูุฉ ุงูุฃูุดุทุฉ ุงูุชุฌุงุฑูุฉ
- โณ ุชูุงุตูู ุงููุดุงุท
- โณ ุฅุฏุงุฑุฉ ุงูุงุดุชุฑุงู
- โณ ุงูููุฎุต ุงููุงูู
- โณ ุฅุฏุงุฑุฉ ุงููุฑุงุฌุนุงุช

#### โ API Integration
- โ ุฌููุน endpoints ุงูุฃุณุงุณูุฉ
- โ ุงุณุชุฎุฏุงู React Query ููู caching
- โ ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก
- โ Loading states
- โ ุชูุงูู ูุน ุงูุฃูุธูุฉ ุงูููุฌูุฏุฉ

---

## ๐งน ุงูุชูุธูู ุงูููุฌุฒ

### ุงููููุงุช ุงููุญุฐููุฉ
- โ `apps/web/src/app/dashboard/wallet/withdraw/` - ุญุฐู ููู (ุงูุณุญุจ ุบูุฑ ูุณููุญ)
- โ `apps/web/src/app/dashboard/page-new.tsx` - ูุญุฐูู ุจุนุฏ ุงูุงุณุชุจุฏุงู
- โ `apps/web/src/app/dashboard/wallet/page-new.tsx` - ูุญุฐูู ุจุนุฏ ุงูุงุณุชุจุฏุงู

### ุงูุชุญุฏูุซุงุช ุงูููุฌุฒุฉ
- โ **WalletCard.tsx**: ุฅุฒุงูุฉ ุฒุฑ ุงูุณุญุจ + ุฅุถุงูุฉ ูุตู ุงูุงุณุชุฎุฏุงูุงุช
- โ **wallet/page.tsx**: ุฅุฒุงูุฉ ููุชุฑ ุงูุณุญุจ + ุชุญุฏูุซ ุงูุฃุฒุฑุงุฑ
- โ **wallet/top-up/page.tsx**: ุฅุถุงูุฉ ุจุทุงูุฉ ุงุณุชุฎุฏุงูุงุช ุงููุญูุธุฉ
- โ **dashboard/page.tsx**: ุชุญุฏูุซ ููุณุชุฎุฏู ุงูููููุงุช ุงูุฌุฏูุฏุฉ

### ุงูุณูุงุณุฉ ุงูุฌุฏูุฏุฉ ูููุญูุธุฉ
โ **ูุณููุญ:**
- ุดุญู ุงูุฑุตูุฏ
- ุดุฑุงุก ุจุงูุงุช ุงูุฃูุดุทุฉ
- ุฅูุดุงุก ุฅุนูุงูุงุช
- ุดุฑุงุก ุฎุฏูุงุช

โ **ุบูุฑ ูุณููุญ:**
- ุณุญุจ ุงูุฑุตูุฏ (ุงููุญูุธุฉ ููุงุณุชุฎุฏุงู ุงูุฏุงุฎูู ููุท)

---

## ๐งน ุงูุชูุธูู ุงูููุฌุฒ

### ุงููููุงุช ุงููุญุฐููุฉ
- โ `apps/web/src/app/dashboard/wallet/withdraw/` - ุญุฐู ููู (ุงูุณุญุจ ุบูุฑ ูุณููุญ)
- โ `apps/web/src/app/dashboard/page-new.tsx` - ูุญุฐูู ุจุนุฏ ุงูุงุณุชุจุฏุงู
- โ `apps/web/src/app/dashboard/wallet/page-new.tsx` - ูุญุฐูู ุจุนุฏ ุงูุงุณุชุจุฏุงู

### ุงูุชุญุฏูุซุงุช ุงูููุฌุฒุฉ
- โ **WalletCard.tsx**: ุฅุฒุงูุฉ ุฒุฑ ุงูุณุญุจ + ุฅุถุงูุฉ ูุตู ุงูุงุณุชุฎุฏุงูุงุช
- โ **wallet/page.tsx**: ุฅุฒุงูุฉ ููุชุฑ ุงูุณุญุจ + ุชุญุฏูุซ ุงูุฃุฒุฑุงุฑ
- โ **wallet/top-up/page.tsx**: ุฅุถุงูุฉ ุจุทุงูุฉ ุงุณุชุฎุฏุงูุงุช ุงููุญูุธุฉ
- โ **dashboard/page.tsx**: ุชุญุฏูุซ ููุณุชุฎุฏู ุงูููููุงุช ุงูุฌุฏูุฏุฉ

### ุงูุณูุงุณุฉ ุงูุฌุฏูุฏุฉ ูููุญูุธุฉ
โ **ูุณููุญ:**
- ุดุญู ุงูุฑุตูุฏ
- ุดุฑุงุก ุจุงูุงุช ุงูุฃูุดุทุฉ
- ุฅูุดุงุก ุฅุนูุงูุงุช
- ุดุฑุงุก ุฎุฏูุงุช

โ **ุบูุฑ ูุณููุญ:**
- ุณุญุจ ุงูุฑุตูุฏ (ุงููุญูุธุฉ ููุงุณุชุฎุฏุงู ุงูุฏุงุฎูู ููุท)

---

## ๐ ุงูุฎุทูุงุช ุงูุชุงููุฉ

### ุงููุฑุญูุฉ 1: Frontend Components (Current)
1. ุฅูุดุงุก ููููุงุช ููุญุฉ ุงูุชุญูู ุงูุฑุฆูุณูุฉ
2. ุตูุญุงุช ุงููุญูุธุฉ ุงููุญุฏุซุฉ
3. ุตูุญุงุช ุงูููุงุชูุฑ ูุงููุฏููุนุงุช
4. ููููุงุช ุฅุฏุงุฑุฉ ุงููุดุงุท ุงูุชุฌุงุฑู
5. ุตูุญุฉ ุงููุฑุงุฌุนุงุช

### ุงููุฑุญูุฉ 2: Integration & Testing
1. ุฑุจุท ุงูููููุงุช ูุน API
2. ุงุฎุชุจุงุฑ ุฌููุน ุงูุณููุงุฑูููุงุช
3. ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก
4. ุชุญุณูู UX

### ุงููุฑุญูุฉ 3: Cleanup & Documentation
1. ุญุฐู ุงููููุงุช ุงููุฏููุฉ ุบูุฑ ุงููุณุชุฎุฏูุฉ
2. ุชุญุฏูุซ ุงูุชูุซูู
3. ูุฑุงุฌุนุฉ ุงูููุฏ ุงูููุงุฆูุฉ

---

## ๐ ุงููููุงุช ุงูุฑุฆูุณูุฉ

### Backend
```
apps/api/src/modules/
โโโ users/
โ   โโโ user-dashboard.service.ts        โ
โ   โโโ user-dashboard.controller.ts     โ
โ   โโโ users.module.ts                  โ
โโโ accounting/
โ   โโโ accounting-user.controller.ts    โ
โ   โโโ accounting.module.ts             โ
โ   โโโ accounting.service.ts            โ
โโโ wallet/                              โ (ููุฌูุฏ)
โโโ reviews/                             โ (ููุฌูุฏ)
โโโ capabilities/                        โ (ููุฌูุฏ)
โโโ packages/                            โ (ููุฌูุฏ)
```

### Frontend (ููุฏ ุงูุฅูุดุงุก)
```
apps/web/src/app/
โโโ dashboard/
โ   โโโ page.tsx                        โณ (ุชุญุฏูุซ)
โ   โโโ wallet/
โ   โ   โโโ page.tsx                    โณ
โ   โ   โโโ transactions/page.tsx       โณ
โ   โ   โโโ top-up/page.tsx             โ (ููุฌูุฏ)
โ   โโโ invoices/
โ   โ   โโโ page.tsx                    โณ
โ   โ   โโโ [id]/page.tsx               โณ
โ   โโโ my-businesses/
โ   โ   โโโ page.tsx                    โ (ููุฌูุฏ - ุชุญุฏูุซ)
โ   โ   โโโ [id]/
โ   โ       โโโ page.tsx                โณ
โ   โ       โโโ subscription/page.tsx    โณ
โ   โ       โโโ financial/page.tsx       โณ
โ   โโโ reviews/
โ       โโโ page.tsx                    โณ
โโโ profile/
    โโโ page.tsx                        โณ (ุชุญุฏูุซ)
```

---

## ๐ ูุนุงููุฑ ุงูุฌูุฏุฉ

### Performance
- Response time < 200ms ููู dashboard summary
- Lazy loading ููููููุงุช ุงูุซูููุฉ
- Caching ููุจูุงูุงุช ุงููุณุชูุฑุฉ

### UX/UI
- Loading states ูุฌููุน ุงูุนูููุงุช
- Error handling ูุงุถุญ
- Success messages ููุงุณุจุฉ
- Mobile responsive

### Security
- Authentication ุนูู ุฌููุน endpoints
- Authorization checks
- Data validation
- SSOT compliance

---

## ๐จ Design Guidelines

### Colors
- Primary: #16a34a (Green)
- Success: #22c55e
- Warning: #f59e0b
- Error: #ef4444
- Info: #3b82f6

### Typography
- Headers: font-bold
- Body: font-normal
- Small text: text-sm
- Labels: text-xs

### Spacing
- Sections: space-y-6
- Cards: p-6
- Grids: gap-4
- Small gaps: gap-2

---

## ๐ API Response Examples

### Dashboard Summary
```json
{
  "user": {
    "id": "uuid",
    "firstName": "ุฃุญูุฏ",
    "lastName": "ูุญูุฏ",
    "governorate": { "nameAr": "ุฏูุดู" },
    "city": { "nameAr": "ุฏูุดู" },
    "district": { "nameAr": "ุงููุฒุฉ" }
  },
  "wallet": {
    "balance": 50000,
    "frozenBalance": 0,
    "totalDeposits": 100000,
    "status": "ACTIVE"
  },
  "businessCapabilities": [
    {
      "businessId": "uuid",
      "role": "OWNER",
      "business": {
        "nameAr": "ูุทุนู ุงูุดุงู"
      }
    }
  ],
  "reviews": {
    "count": 15,
    "averageRating": 4.5
  }
}
```

### Invoices List
```json
{
  "data": [
    {
      "id": "uuid",
      "invoiceNumber": "INV-2026-001",
      "invoiceDate": "2026-01-01",
      "total": 25000,
      "paidAmount": 0,
      "status": "ISSUED"
    }
  ],
  "total": 10
}
```

---

ุชู ุงูุชุญุฏูุซ: 7 ููุงูุฑ 2026
