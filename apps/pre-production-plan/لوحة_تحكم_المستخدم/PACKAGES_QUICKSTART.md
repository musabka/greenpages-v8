# ๐ฏ ุฏููู ุณุฑูุน - ูุธุงู ุงูุจุงูุงุช ูู ููุญุฉ ุงูุชุญูู

## ๐ ูููุณุชุฎุฏู ุงูููุงุฆู

### 1. ุนุฑุถ ูุนูููุงุช ุงูุจุงูุงุช

**ุงูุฎุทูุงุช:**
1. ุงูุชุญ `/dashboard`
2. ุณุชุฌุฏ ูุณู "ุจุงูุงุช ุฃูุดุทุชู ุงูุชุฌุงุฑูุฉ"
3. ููู ูุดุงุท ุชุฌุงุฑูุ ุณุชุฌุฏ ุจุทุงูุฉ ุชุนุฑุถ:
   - ๐ ุชุงุฑูุฎ ุฅุถุงูุฉ ุงููุดุงุท ุงูุชุฌุงุฑู
   - โ ุชุงุฑูุฎ ุชูุนูู ุงูุจุงูุฉ ุงูุญุงููุฉ
   - โฐ ุชุงุฑูุฎ ุงูุชูุงุก ุงูุจุงูุฉ
   - โณ ุนุฏุฏ ุงูุฃูุงู ุงููุชุจููุฉ ูุน Progress Bar

### 2. ุชุฌุฏูุฏ ุงูุจุงูุฉ

**ูุชู:** ุนูุฏูุง ุชูุชุฑุจ ุงูุจุงูุฉ ูู ุงูุงูุชูุงุก (ุฃูู ูู 30 ููู)

**ุงูุฎุทูุงุช:**
1. ุงุถุบุท ุนูู ุฒุฑ "ุชุฌุฏูุฏ ุงูุจุงูุฉ" ูู ุจุทุงูุฉ ุงููุดุงุท
2. ุงุฎุชุฑ ูุฏุฉ ุงูุชุฌุฏูุฏ (30ุ 60ุ ุฃู 90 ููู)
3. ุชุญูู ูู ุฑุตูุฏ ุงููุญูุธุฉ
4. ุงุถุบุท "ุชุฃููุฏ ุงูุชุฌุฏูุฏ"
5. ุณูุชู ุชูุฏูุฏ ุงูุจุงูุฉ ุชููุงุฆูุงู

**ููุงุญุธุงุช:**
- โ ูุชู ุงูุชูุฏูุฏ ูู ุชุงุฑูุฎ ุงูุงูุชูุงุก ุงูุญุงูู
- โ ุงูุฏูุน ูู ุฑุตูุฏ ุงููุญูุธุฉ
- โ ูุฑุชุจุท ุจุงููุธุงู ุงููุญุงุณุจู

### 3. ุชุฑููุฉ ุงูุจุงูุฉ

**ูุชู:** ูู ุฃู ููุช ุชุฑูุฏ ุงูุญุตูู ุนูู ูููุฒุงุช ุฅุถุงููุฉ

**ุงูุฎุทูุงุช:**
1. ุงุถุบุท ุนูู ุฒุฑ "ุชุฑููุฉ ุงูุจุงูุฉ"
2. ุงุฎุชุฑ ุงูุจุงูุฉ ุงูุฌุฏูุฏุฉ ูู ุงููุงุฆูุฉ
3. ูุงุฑู ุงููููุฒุงุช ุจูู ุงูุจุงูุฉ ุงูุญุงููุฉ ูุงูุฌุฏูุฏุฉ
4. ุชุญูู ูู ุฑุตูุฏ ุงููุญูุธุฉ
5. ุงุถุบุท "ุชุฃููุฏ ุงูุชุฑููุฉ"

**ููุงุญุธุงุช:**
- โ ุณุชุธูุฑ ููุท ุงูุจุงูุงุช ุงูุฃุนูู ุณุนุฑุงู
- โ ุงูุชุฑููุฉ ููุฑูุฉ
- โ ุชุจุฏุฃ ุงูุจุงูุฉ ุงูุฌุฏูุฏุฉ ูู ุงูููู

### 4. ุนุฑุถ ุฌููุน ุงูุจุงูุงุช ุงููุชุงุญุฉ

**ุงูุฎุทูุงุช:**
1. ูู Dashboardุ ุงุถุบุท "ุนุฑุถ ุฌููุน ุงูุจุงูุงุช ุงููุชุงุญุฉ"
2. ุฃู ุงูุชุญ `/dashboard/packages` ูุจุงุดุฑุฉ
3. ุณุชุฌุฏ ูุงุฆูุฉ ุจุฌููุน ุงูุจุงูุงุช ูุน:
   - ุงูุณุนุฑ ูุงููุฏุฉ
   - ุงููููุฒุงุช (Features)
   - ุงูุญุฏูุฏ (Limits)

---

## ๐ป ูููุทูุฑ

### APIs ุงููุชุงุญุฉ

#### 1. ูุนูููุงุช ุจุงูุงุช ุงููุณุชุฎุฏู
```bash
GET /api/v1/user/dashboard/packages-details
Authorization: Bearer {token}
```

**Response:**
```json
[
  {
    "business": {
      "id": "xxx",
      "nameAr": "ูุทุนู ุงููุฎูู",
      "createdAt": "2025-01-01T10:00:00Z"
    },
    "packageActivatedAt": "2025-12-01T00:00:00Z",
    "packageExpiresAt": "2026-03-01T00:00:00Z",
    "daysRemaining": 53,
    "status": "EXPIRING_SOON",
    "canRenew": true,
    "canUpgrade": true
  }
]
```

#### 2. ุงูุจุงูุงุช ุงููุชุงุญุฉ
```bash
GET /api/v1/user/dashboard/available-packages
```

**Response:**
```json
[
  {
    "id": "pkg1",
    "nameAr": "ุงูุจุงูุฉ ุงูุฐูุจูุฉ",
    "price": 500,
    "durationDays": 30,
    "features": [...],
    "limits": [...]
  }
]
```

#### 3. ุชุฌุฏูุฏ/ุชุฑููุฉ ุงูุจุงูุฉ
```bash
POST /api/v1/packages/assign
Authorization: Bearer {token}
Content-Type: application/json

{
  "businessId": "xxx",
  "packageId": "pkg1",
  "durationDays": 30  // ุงุฎุชูุงุฑู - ููุชุฌุฏูุฏ
}
```

### ุงูููููุงุช (Components)

#### PackageInfoCard
```tsx
import { PackageInfoCard } from '@/app/dashboard/components/PackageInfoCard';

<PackageInfoCard packageDetails={packageDetail} />
```

**Props:**
```typescript
interface PackageDetails {
  business: {
    id: string;
    nameAr: string;
    logo?: string;
    slug: string;
  };
  businessCreatedAt: string;
  currentPackage: {
    packageName: string;
    price: number;
    isDefault: boolean;
  } | null;
  packageActivatedAt: string | null;
  packageExpiresAt: string | null;
  daysRemaining: number | null;
  status: 'ACTIVE' | 'EXPIRING_SOON' | 'EXPIRED' | 'NO_PACKAGE';
  canRenew: boolean;
  canUpgrade: boolean;
}
```

### ุงูุตูุญุงุช (Pages)

| ุงููุณุงุฑ | ุงูููู | ุงููุตู |
|--------|------|-------|
| `/dashboard/packages` | `apps/web/src/app/dashboard/packages/page.tsx` | ุนุฑุถ ุฌููุน ุงูุจุงูุงุช |
| `/dashboard/packages/renew/[businessId]` | `apps/web/src/app/dashboard/packages/renew/[businessId]/page.tsx` | ุชุฌุฏูุฏ ุงูุจุงูุฉ |
| `/dashboard/packages/upgrade/[businessId]` | `apps/web/src/app/dashboard/packages/upgrade/[businessId]/page.tsx` | ุชุฑููุฉ ุงูุจุงูุฉ |

---

## ๐ง ุงูุชุฎุตูุต

### ุชุบููุฑ ุฃููุงู ุงูุญุงูุฉ

ูู `PackageInfoCard.tsx`:
```tsx
const statusConfig = {
  ACTIVE: {
    color: 'text-green-600',
    bg: 'bg-green-50',
    // ...
  },
  EXPIRING_SOON: {
    color: 'text-orange-600',
    // ...
  },
  // ...
};
```

### ุชุบููุฑ ุญุฏูุฏ ุงูุชูุจูู

ูู `user-dashboard.service.ts`:
```typescript
// ุชุบููุฑ ูู 30 ููู ุฅูู 15 ููู ูุซูุงู
if (daysRemaining <= 15) {
  status = 'EXPIRING_SOON';
}
```

### ุฅุถุงูุฉ ูุฏุฏ ุชุฌุฏูุฏ ุฌุฏูุฏุฉ

ูู `renew/[businessId]/page.tsx`:
```tsx
<select>
  <option value={30}>30 ููู</option>
  <option value={60}>60 ููู</option>
  <option value={90}>90 ููู</option>
  <option value={180}>180 ููู</option> {/* ุฌุฏูุฏ */}
</select>
```

---

## โ๏ธ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงููุดููุฉ: ูุง ุชุธูุฑ ูุนูููุงุช ุงูุจุงูุงุช

**ุงูุญู:**
1. ุชุญูู ูู ุชุณุฌูู ุงูุฏุฎูู
2. ุชุฃูุฏ ุฃู ุงููุณุชุฎุฏู ูุฏูู `hasBusinessAccess = true`
3. ุชุญูู ูู ุงูู API: `/user/dashboard/packages-details`

### ุงููุดููุฉ: ุฑุณุงูุฉ "ุฑุตูุฏ ุบูุฑ ูุงูู"

**ุงูุญู:**
1. ุงูุชุญ `/dashboard/wallet/top-up`
2. ุงุดุญู ุงููุญูุธุฉ ุจุงููุจูุบ ุงููุทููุจ
3. ุนุฏ ูุตูุญุฉ ุงูุชุฌุฏูุฏ/ุงูุชุฑููุฉ

### ุงููุดููุฉ: ุงูุชุฑููุฉ ูุง ุชุธูุฑ ุจุงูุงุช

**ุงูุญู:**
- ูุฐุง ุทุจูุนู ุฅุฐุง ููุช ุนูู ุฃุนูู ุจุงูุฉ ูุชุงุญุฉ
- ุชุธูุฑ ููุท ุงูุจุงูุงุช ุงูุฃุนูู ุณุนุฑุงู

---

## ๐ ููุงุฑุฏ ุฅุถุงููุฉ

- [ูุธุงู ุงูุจุงูุงุช ุงูุฃุณุงุณู](../../PACKAGES.md)
- [ูุธุงู ุงููุญุงุณุจุฉ](../../ACCOUNTING_SYSTEM.md)
- [ูุธุงู ุงููุญูุธุฉ](../../WALLET_SYSTEM.md)
- [ุงูุชูุฑูุฑ ุงูุดุงูู](./PACKAGES_DEVELOPMENT_REPORT.md)

---

**ุชู ุงูุชุทููุฑ:** 7 ููุงูุฑ 2026  
**ุงูุฅุตุฏุงุฑ:** 1.0  
**ุงูุญุงูุฉ:** โ ุฌุงูุฒ ููุงุณุชุฎุฏุงู
