# ุชุทููุฑ ุตูุญุฉ ุงูููู ุงูุดุฎุตู ููููุฏูุจ

## ุงูุชุญุณููุงุช ุงููููุฐุฉ

### 1. ุงูุชุตููู ุงูุฌุฏูุฏ ๐จ

#### ูุงุฌูุฉ ูุญุณููุฉ ูุฌุฐุงุจุฉ
- **ุบูุงู ูููู**: ุชุฏุฑุฌ ูููู ุฃุฎุถุฑ ุฌููู ูู ุงูุฃุนูู
- **ุตูุฑุฉ ุงูููู ุงูุดุฎุตู**: ุฏุงุฆุฑุฉ ูุจูุฑุฉ ูุน ุฅุทุงุฑ ุฃุจูุถ ูุธู
- **ุจุทุงูุงุช ูุนูููุงุช**: ุชุตููู ุญุฏูุซ ูุน ุฎูููุงุช ููููุฉ ูุฃููููุงุช
- **ุชุฃุซูุฑุงุช ุชูุงุนููุฉ**: Hover effects ุนูู ุงูุจุทุงูุงุช

#### ุงูุฃููุงู ูุงูุชุฏุฑุฌุงุช
- ุชุฏุฑุฌุงุช ููููุฉ ููุจุทุงูุงุช (ุฃุฎุถุฑุ ุฃุฒุฑูุ ุจููุณุฌูุ ููุฑูุงูู)
- ุงุณุชุฎุฏุงู ุฃููุงู ูุชูุงุณูุฉ ูุน ูููุฉ ุงูููุตุฉ
- ุธูุงู ูุญุฏูุฏ ูุงุนูุฉ

### 2. ุงูุฑุจุท ุงููุงูู ุจู API โ

#### ุฌูุจ ุงูุจูุงูุงุช
```typescript
const [profileRes, dashboardRes] = await Promise.all([
  api.get('/agent-portal/profile'),
  api.get('/agent-portal/dashboard'),
]);
```

#### ุงูุจูุงูุงุช ุงููุนุฑูุถุฉ ูู API:
- โ ูุนูููุงุช ุงููุณุชุฎุฏู (ุงูุงุณูุ ุงูุจุฑูุฏุ ุงููุงุชู)
- โ ูุนูููุงุช ุงูุนูู (ุงูุฑุงุชุจุ ุงูุนูููุฉุ ุงููุฏูุฑ)
- โ ุงููุญุงูุธุงุช ุงููุฎุตุตุฉ
- โ ุงูุฅุญุตุงุฆูุงุช (ุงูุฃูุดุทุฉุ ุงูุชุฌุฏูุฏุงุชุ ุงูุนูููุงุชุ ุงูุฒูุงุฑุงุช)

### 3. ุฅููุงููุฉ ุชุนุฏูู ุงูููู ุงูุดุฎุตู โ๏ธ

#### ุฒุฑ ุงูุชุนุฏูู
- ุฒุฑ "ุชุนุฏูู ุงูููู" ูู ุฃุนูู ุงูุตูุญุฉ
- ููุชุญ ูุถุน ุงูุชุนุฏูู ููุญููู ุงููุงุจูุฉ ููุชุนุฏูู

#### ุงูุญููู ุงููุงุจูุฉ ููุชุนุฏูู:
- ุฑูู ุงููุงุชู (ูุน ุญูู ุฅุฏุฎุงู)
- ุฃุฒุฑุงุฑ ุญูุธ ูุฅูุบุงุก

#### API ููุชุญุฏูุซ:
```typescript
await api.patch('/agent-portal/profile', {
  phone: editedPhone,
});
```

### 4. ุงูุฅุญุตุงุฆูุงุช ุงููุชูุฏูุฉ ๐

#### ุจุทุงูุงุช ุงูุฃุฏุงุก (4 ุจุทุงูุงุช)
1. **ุงูุฃูุดุทุฉ ุงูุชุฌุงุฑูุฉ**
   - ุงูุนุฏุฏ ุงูุฅุฌูุงูู
   - ุงูููุงูู ุนูููุง ูุงููุนููุฉ

2. **ุงูุชุฌุฏูุฏุงุช**
   - ุงูุนุฏุฏ ุงูุฅุฌูุงูู
   - ุงูููุชููุฉ ูุงููุนููุฉ

3. **ุงูุนูููุงุช**
   - ุงููุจูุบ ุงููุฏููุน
   - ุงููุจูุบ ุงููุนูู

4. **ุงูุฒูุงุฑุงุช**
   - ุงูุนุฏุฏ ุงูุฅุฌูุงูู
   - ุฒูุงุฑุงุช ุงูููู ูุงููุฎุทุทุฉ

#### ุจุทุงูุงุช ุงูููุฎุต (3 ุจุทุงูุงุช ูุจูุฑุฉ)
1. **ุฅุฌูุงูู ุงูุฃุฑุจุงุญ**: ุงูุฑุงุชุจ + ุงูุนูููุงุช ุงููุฏููุนุฉ
2. **ููุงุทู ุงูุชุบุทูุฉ**: ุนุฏุฏ ุงููุญุงูุธุงุช
3. **ูุฏุฉ ุงูุฎุฏูุฉ**: ุจุงูุฃุดูุฑ

### 5. ุงููุนูููุงุช ุงููุนุฑูุถุฉ ๐

#### ูุนูููุงุช ุงูุงุชุตุงู
- โ๏ธ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
- ๐ฑ ุฑูู ุงููุงุชู (ูุงุจู ููุชุนุฏูู)
- ๐ ููุงุทู ุงูุชุบุทูุฉ (ุงููุญุงูุธุงุช)
- ๐ข ุงูุนููุงู (ุงููุญุงูุธุฉ ูุงููุฏููุฉ)

#### ูุนูููุงุช ุงูุนูู
- ๐ฐ ุงูุฑุงุชุจ ุงูุฃุณุงุณู
- ๐ ูุณุจุฉ ุงูุนูููุฉ
- ๐ ุฅุฌูุงูู ุงูุนูููุงุช
- ๐ค ุงููุฏูุฑ ุงููุจุงุดุฑ (ุงูุงุณู ูุงูุจุฑูุฏ)

### 6. ุงูุชุญุณููุงุช ุงูุชูููุฉ ๐ง

#### ุฅุฏุงุฑุฉ ุงูุญุงูุฉ
```typescript
const [profile, setProfile] = useState<AgentProfile | null>(null);
const [stats, setStats] = useState<DashboardStats | null>(null);
const [isEditing, setIsEditing] = useState(false);
const [editedPhone, setEditedPhone] = useState('');
```

#### ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก
- ุงุณุชุฎุฏุงู `react-hot-toast` ููุฅุดุนุงุฑุงุช
- ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ
- ุญุงูุฉ ุชุญููู ูุน spinner

#### ุงูุฃููุงุน (Types)
```typescript
interface AgentProfile {
  id: string;
  user: {
    id: string;
    firstName: string;
    lastName: string;
    email: string;
    phone?: string;
    avatar?: string;
    governorate?: { nameAr: string };
    city?: { nameAr: string };
  };
  governorates: { id: string; name: string }[];
  baseSalary: number;
  commissionRate: number;
  totalCommissions: number;
  totalVisits: number;
  hiredAt: string;
  manager?: {
    firstName: string;
    lastName: string;
    email: string;
    phone?: string;
  };
}
```

### 7. ุงูุงุณุชุฌุงุจุฉ (Responsive) ๐ฑ

- ุชุตููู ูุชุฌุงูุจ ูุนูู ุนูู ุฌููุน ุงูุฃุญุฌุงู
- Grid layout ูุชููู ูุน ุงูุดุงุดุงุช ุงูุตุบูุฑุฉ
- Flexbox ูููุญุงุฐุงุฉ ุงููุซุงููุฉ

## ุงููููุงุช ุงููุนุฏูุฉ

### 1. `apps/agent/src/app/dashboard/profile/page.tsx`
- ุฅุนุงุฏุฉ ูุชุงุจุฉ ูุงููุฉ ููุตูุญุฉ
- ุชุตููู ุฌุฏูุฏ ุจุงููุงูู
- ุฑุจุท ูุงูู ุจู API
- ุฅุถุงูุฉ ูุธููุฉ ุงูุชุนุฏูู

### 2. `apps/agent/src/app/dashboard/layout.tsx`
- ุฅุถุงูุฉ `Toaster` ูู `react-hot-toast`
- ุฏุนู ุงูุฅุดุนุงุฑุงุช ูู ูู ุงูุตูุญุงุช

## API Endpoints ุงููุณุชุฎุฏูุฉ

### GET `/agent-portal/profile`
ูุฌูุจ ูุนูููุงุช ุงูููู ุงูุดุฎุตู ููููุฏูุจ:
```json
{
  "id": "...",
  "user": {
    "firstName": "ุฃุญูุฏ",
    "lastName": "ุงูููุฏูุจ",
    "email": "agent@greenpages.sy",
    "phone": "0911234567"
  },
  "baseSalary": 500000,
  "commissionRate": 10,
  "totalCommissions": 50000,
  "governorates": [...]
}
```

### GET `/agent-portal/dashboard`
ูุฌูุจ ุฅุญุตุงุฆูุงุช ููุญุฉ ุงูุชุญูู:
```json
{
  "stats": {
    "businesses": { "total": 5, "pending": 2, "approved": 3 },
    "renewals": { "pending": 1, "completed": 4 },
    "commissions": { "approved": 100000, "paid": 50000, "pending": 50000 },
    "visits": { "today": 2, "planned": 5 }
  }
}
```

### PATCH `/agent-portal/profile`
ูุญุฏุซ ูุนูููุงุช ุงูููู ุงูุดุฎุตู:
```json
{
  "phone": "0911234567"
}
```

## ุงูููุชุจุงุช ุงููุณุชุฎุฏูุฉ

- `lucide-react`: ุงูุฃููููุงุช
- `react-hot-toast`: ุงูุฅุดุนุงุฑุงุช
- `axios`: ุทูุจุงุช API

## ููุทุฉ ุดุงุดุฉ

![Agent Profile Page](./screenshot.png)

## ุงูููุฒุงุช ุงููุณุชูุจููุฉ ุงูููุชุฑุญุฉ

1. **ุฑูุน ุตูุฑุฉ ุงูููู ุงูุดุฎุตู**: ุฅุถุงูุฉ ุฅููุงููุฉ ุฑูุน ุตูุฑุฉ ุดุฎุตูุฉ
2. **ุชุนุฏูู ุงููุฒูุฏ ูู ุงูุญููู**: ุงูุนููุงูุ ุงููุนูููุงุช ุงูุดุฎุตูุฉ
3. **ุฑุณูู ุจูุงููุฉ**: ุนุฑุถ ุงูุฃุฏุงุก ุจุดูู ุจูุงูู
4. **ุณุฌู ุงููุดุงุทุงุช**: ุนุฑุถ ุขุฎุฑ ุงููุดุงุทุงุช ูุงูุฅูุฌุงุฒุงุช
5. **ุงูุดูุงุฏุงุช ูุงูุฌูุงุฆุฒ**: ุนุฑุถ ุงูุฅูุฌุงุฒุงุช ูุงูุชูุฏูุฑุงุช

## ููุงุญุธุงุช

- ุฌููุน ุงูุจูุงูุงุช ุงูุขู ูุฑุจูุทุฉ ุจู API ุงูุญูููู
- ุชู ุฅุฒุงูุฉ ุงูุจูุงูุงุช ุงูููููุฉ
- ุงูุชุตููู ูุชุจุน ูุนุงููุฑ Material Design
- ุงูููุฏ ููุธู ููุนูู ุจุดูู ุฌูุฏ
- ุงุณุชุฎุฏุงู TypeScript ููุฃูุงู ุงูููุนู
